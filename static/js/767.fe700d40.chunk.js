"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[767],{9767:(e,s,r)=>{r.r(s),r.d(s,{default:()=>D});var t=r(5116),a=r(9557),n=r(634),i=r(7789),o=r(5762),d=r(9262),l=r(6376),c=r(5043);const u="Messages_messages__tffvj",g="ListFriends_listFriends__XCW10";var m=r(2582),h=r(1324);const f="FriendsProfileMessages_friendsProfile__e7Kb8",_="FriendsProfileMessages_friendsProfile_link__dCQhG",p="FriendsProfileMessages_friendsProfile_link_name__iBrsp";var x=r(579);const v=e=>(0,x.jsx)("li",{className:f,children:(0,x.jsxs)(m.k2,{to:"/messages/"+e.id,className:_,children:[(0,x.jsx)(h.A,{photo:e.photo,style:"avatar__small"}),(0,x.jsx)("figcaption",{className:p,children:e.name})]})}),b=e=>(0,x.jsx)("article",{className:g,children:(0,x.jsx)("ul",{children:e.profiles&&e.profiles.map((e=>(0,x.jsx)(v,{id:e.id,name:e.name,photo:e.photos.small},e.id)))})});var j=r(1639),M=r(6698);const w=e=>e.messages.messages,N="ListMessages_listMessages__LJqh-";var y=r(1174);const S="Message_message__hNqnV",F="Message_message__name__Fn5Aq",z="Message_message__date__ur4tr",A="Message_message__text__5J5WM",R=e=>(0,x.jsxs)("section",{className:S,children:[(0,x.jsx)(h.A,{photo:e.photo,style:"avatar__small"}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:F,children:[(0,x.jsx)("b",{children:e.login}),(0,x.jsx)("i",{className:z,children:e.dateMessage})]}),(0,x.jsx)("div",{className:A,children:e.textMessage})]})]}),P=e=>(0,x.jsx)("article",{className:`${N} ${y.A.wrapper}`,children:e.profile&&e.messages.map((s=>(0,x.jsx)(R,{login:e.login,photo:e.profile.photos.small,textMessage:s.textMessage,dateMessage:s.dateMessage},s.id)))}),L=(0,t.Ng)((e=>({messages:w(e),login:(0,M.gI)(e),profile:(0,j.qx)(e)})))(P);var k=r(9204),C=r(5963),E=r(3842);const W="AddMessage_addMessageForm__HQIxT",T="AddMessage_message__form__5rjr3",H="AddMessage_message__form_field__2DfRh",$="AddMessage_message__form_button__KV2Mu";var B=r(8779),K=r(587);const V=(0,B.R)(500),q=(0,E.A)({form:"message",onSubmitSuccess:(e,s)=>s((0,k.cL)("message"))})((e=>(0,x.jsx)("article",{className:W,children:(0,x.jsx)("div",{className:y.A.wrapper,children:(0,x.jsxs)("form",{onSubmit:e.handleSubmit,className:T,children:[(0,x.jsx)(C.A,{placeholder:" \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f...",name:"textArea",component:K.T,className:H,validate:[B.m,V],cols:"40",minRows:"2",maxRows:"2"}),(0,x.jsx)("button",{className:$,children:(0,x.jsx)("b",{children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})})}))),I=e=>{let{getUserProfile:s,currentPage:r,sizePage:t,searchName:a,searchFriends:n,profiles:i,addMessage:o}=e;(0,c.useEffect)((()=>{s(r,t,a,n)}),[]);const d=new Date;return i&&(0,x.jsxs)("main",{className:u,children:[(0,x.jsx)(b,{profiles:i}),(0,x.jsx)(L,{}),(0,x.jsx)(q,{onSubmit:e=>{o(d.toLocaleString("ru",{hour:"numeric",minute:"numeric"}))}})]})},O=o.o.addMessage,D=(0,n.Zz)((0,t.Ng)((e=>({profiles:(0,l.TK)(e),currentPage:(0,l.jp)(e),sizePage:(0,l.xn)(e),searchName:(0,l.Ac)(e),searchFriends:(0,l.yx)(e)})),{getUserProfile:d.VM,addMessage:O}),a.y,i.H)(I)},7789:(e,s,r)=>{r.d(s,{H:()=>o});r(5043);var t=r(5116),a=r(9557),n=r(6698),i=r(579);const o=e=>(0,t.Ng)(d)((s=>s.isAuth?(0,i.jsx)(e,{...s}):(0,i.jsx)(a.rd,{to:"/login"})));let d=e=>({isAuth:(0,n.jb)(e)})},6376:(e,s,r)=>{r.d(s,{Ac:()=>o,G_:()=>i,KE:()=>l,TK:()=>t,jp:()=>a,xn:()=>n,yx:()=>d});const t=e=>e.users.profiles,a=e=>e.users.currentPage,n=e=>e.users.sizePage,i=e=>e.users.totalCount,o=e=>e.users.searchName,d=e=>e.users.searchFriends,l=e=>e.users.followingInProgress},587:(e,s,r)=>{r.d(s,{p:()=>w,T:()=>M});var t=r(5043),a=r(8168),n=r(8587);const i=t.useLayoutEffect;const o=function(e){var s=(0,t.useRef)(e);return i((function(){s.current=e})),s};var d=function(e,s){"function"!==typeof e?e.current=s:e(s)};const l=function(e,s){var r=(0,t.useRef)();return(0,t.useCallback)((function(t){e.current=t,r.current&&d(r.current,null),r.current=s,s&&d(s,t)}),[s])};var c={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},u=function(e){Object.keys(c).forEach((function(s){e.style.setProperty(s,c[s],"important")}))},g=null;var m=function(){},h=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],f=!!document.documentElement.currentStyle,_=function(e,s){var r=e.cacheMeasurements,i=e.maxRows,d=e.minRows,c=e.onChange,_=void 0===c?m:c,p=e.onHeightChange,x=void 0===p?m:p,v=(0,n.A)(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]);var b=void 0!==v.value,j=(0,t.useRef)(null),M=l(j,s),w=(0,t.useRef)(0),N=(0,t.useRef)(),y=function(){var e=j.current,s=r&&N.current?N.current:function(e){var s=window.getComputedStyle(e);if(null===s)return null;var r,t=(r=s,h.reduce((function(e,s){return e[s]=r[s],e}),{})),a=t.boxSizing;return""===a?null:(f&&"border-box"===a&&(t.width=parseFloat(t.width)+parseFloat(t.borderRightWidth)+parseFloat(t.borderLeftWidth)+parseFloat(t.paddingRight)+parseFloat(t.paddingLeft)+"px"),{sizingStyle:t,paddingSize:parseFloat(t.paddingBottom)+parseFloat(t.paddingTop),borderSize:parseFloat(t.borderBottomWidth)+parseFloat(t.borderTopWidth)})}(e);if(s){N.current=s;var t=function(e,s,r,t){void 0===r&&(r=1),void 0===t&&(t=1/0),g||((g=document.createElement("textarea")).setAttribute("tabindex","-1"),g.setAttribute("aria-hidden","true"),u(g)),null===g.parentNode&&document.body.appendChild(g);var a=e.paddingSize,n=e.borderSize,i=e.sizingStyle,o=i.boxSizing;Object.keys(i).forEach((function(e){var s=e;g.style[s]=i[s]})),u(g),g.value=s;var d=function(e,s){var r=e.scrollHeight;return"border-box"===s.sizingStyle.boxSizing?r+s.borderSize:r-s.paddingSize}(g,e);g.value="x";var l=g.scrollHeight-a,c=l*r;"border-box"===o&&(c=c+a+n),d=Math.max(c,d);var m=l*t;return"border-box"===o&&(m=m+a+n),[d=Math.min(m,d),l]}(s,e.value||e.placeholder||"x",d,i),a=t[0],n=t[1];w.current!==a&&(w.current=a,e.style.setProperty("height",a+"px","important"),x(a,{rowHeight:n}))}};return(0,t.useLayoutEffect)(y),function(e){var s=o(e);(0,t.useLayoutEffect)((function(){var e=function(e){s.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[])}(y),(0,t.createElement)("textarea",(0,a.A)({},v,{onChange:function(e){b||y(),_(e)},ref:M}))};const p=(0,t.forwardRef)(_),x="ValidationForms_input_successful__9AlhO",v="ValidationForms_input_error__MXav0",b="ValidationForms_text_error__KmgWb";var j=r(579);const M=e=>{let{input:s,meta:r,...t}=e;const a=r.touched&&r.error;return(0,j.jsxs)("div",{children:[(0,j.jsx)(p,{className:`${x} ${a&&v}`,...t,...s}),a&&(0,j.jsxs)("div",{className:b,children:["\u26d4",r.error]})]})},w=e=>{let{input:s,meta:r,...t}=e;const a=r.touched&&r.error;return(0,j.jsxs)("div",{children:[(0,j.jsx)("input",{className:`${x} ${a&&v}`,...t,...s}),a&&(0,j.jsxs)("div",{className:b,children:["\u26d4",r.error]})]})}},8779:(e,s,r)=>{r.d(s,{R:()=>a,m:()=>t});const t=e=>{if(!e)return"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},a=e=>s=>{if(s&&s.length>e)return`\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 ${e} \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432`}}}]);
//# sourceMappingURL=767.fe700d40.chunk.js.map