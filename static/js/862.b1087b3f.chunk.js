"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[862],{3862:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N});var i=n(5116),r=n(634),a=n(7789),s=n(5412),o=n(6698),l=n(8150),d=n(5043);const c={setting:"Settings_setting__04h5F",setting_avatar:"Settings_setting_avatar__6kqn9",setting_avatar_wrapper:"Settings_setting_avatar_wrapper__JvHG-",setting_avatar_load:"Settings_setting_avatar_load__ZNBVk",setting_avatar_file:"Settings_setting_avatar_file__fIxnj",setting_avatar_img:"Settings_setting_avatar_img__VjMep",setting_avatar_succes:"Settings_setting_avatar_succes__VNhB+"};var u=n(1174);const g={setting_info_edit:"SettingsInfo_setting_info_edit__uCD5g",setting_field_input:"SettingsInfo_setting_field_input__A5KZp",setting_btn:"SettingsInfo_setting_btn__qrjCu"};var h=n(5963),f=n(3842),p=n(8779),_=n(587),m=n(579);const x=(0,p.R)(30),v=(0,p.R)(100),j=(0,p.R)(100),b=(0,f.A)({form:"profileInfo"})((e=>(0,m.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,m.jsxs)("section",{className:g.setting_info,children:[(0,m.jsx)("b",{children:"\u041e\u0431\u043e \u043c\u043d\u0435"}),(0,m.jsx)("table",{className:g.setting_info_edit,children:(0,m.jsxs)("tbody",{children:[(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"\u041c\u043e\u0439 \u043d\u0438\u043a\u043d\u0435\u0439\u043c:"}),(0,m.jsx)("td",{children:(0,m.jsx)(h.A,{name:"fullName",component:_.p,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f...",validate:[x],className:g.setting_field_input,required:!0})})]}),(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"\u041c\u043e\u0438 \u043d\u0430\u0432\u044b\u043a\u0438:"}),(0,m.jsx)("td",{children:(0,m.jsx)(h.A,{name:"lookingForAJobDescription",component:_.T,validate:[v],placeholder:"\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u0412\u0430\u0448\u0438 \u043d\u0430\u0432\u044b\u043a\u0438...",className:g.setting_field_input,required:!0,minRows:"2",maxRows:"3"})})]}),(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"\u041e\u0431\u043e \u043c\u043d\u0435:"}),(0,m.jsx)("td",{children:(0,m.jsx)(h.A,{name:"aboutMe",component:_.T,placeholder:"\u0420\u0430\u0441\u0441\u043a\u0430\u0436\u0438\u0442\u0435 \u043e \u0441\u0435\u0431\u0435...",validate:[v],className:g.setting_field_input,required:!0,minRows:"2",maxRows:"3"})})]}),(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"}),(0,m.jsx)("td",{children:(0,m.jsx)(h.A,{name:"lookingForAJob",component:"input",type:"checkbox",className:g.setting_field_job})})]})]})})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)("section",{className:g.setting_social,children:[(0,m.jsx)("b",{children:"\u0421\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0435\u0442\u0438"}),(0,m.jsx)("div",{children:(0,m.jsx)("table",{className:g.setting_info_edit,children:(0,m.jsx)("tbody",{children:Object.keys(e.profile.contacts).map((e=>(0,m.jsxs)("tr",{children:[(0,m.jsxs)("th",{children:[e,":"]}),(0,m.jsx)("td",{children:(0,m.jsx)(h.A,{name:`contacts.${e}`,component:_.p,type:"url",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 URL \u0430\u0434\u0440\u0435\u0441...",validate:[j],className:g.setting_field_input})})]},e)))})})})]}),(0,m.jsx)("button",{className:g.setting_btn,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})));var A=n(3433);const S=e=>{(0,d.useEffect)((()=>{e.getProfileSettings(e.myId)}),[]);return(0,m.jsx)("main",{className:`${c.container} ${u.A.wrapper}`,children:e.profileForSettings?(0,m.jsxs)("article",{className:c.setting,children:[(0,m.jsxs)("section",{className:c.setting_avatar,children:[(0,m.jsx)("b",{children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0443"}),(0,m.jsx)("div",{className:c.setting_avatar_wrapper,children:(0,m.jsxs)("label",{className:c.setting_avatar_load,htmlFor:"input__file",children:[(0,m.jsx)("input",{type:"file",onChange:t=>{t.target.files.length&&e.updateAvatarPhoto(t.target.files[0])},className:c.setting_avatar_file,id:"input__file"}),(0,m.jsx)("img",{className:c.setting_avatar_img,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAA4UlEQVQ4Ee2SPQrCQBBGd7UwoFYW3iEWNqkNpPSOegx7vYGHEBW1EBRsZH0jjATZuPkRK8P3spPJzLdLMsZ8+bIhP+fcgJoUREtr7UmC2mA4B9UsZNQKFfC+B6q+BkVrGcOiXm/+b+j9LJWS3jlkRta46N8dEndBdOW2B9GFmRxLEATD1Dl3hiLJu0nQKF+AUwJHeNeBRJKvLR3TGMMGVBLHpQ18hTiNYAdbaGamG2AUQUeff7o+x4bd2+w6hQjq6EbTgjG6sxqDYQZNlYlZ/oQyV3JSyVdFTrZ6nbBq96f6B5Sk3B78JImwAAAAAElFTkSuQmCC",alt:"downloadImg"}),(0,m.jsx)("b",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b"})]})})]}),e.updateAvatar&&(0,m.jsx)("aside",{className:c.setting_avatar_succes,children:"* \u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430"}),(0,m.jsx)("hr",{}),(0,m.jsx)(b,{onSubmit:t=>{e.updateProfileInfo(t)},initialValues:e.profileForSettings,profile:e.profileForSettings}),e.updateInfo&&(0,m.jsx)("aside",{className:c.setting_avatar_succes,children:"* \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430"})]}):(0,m.jsx)(A.A,{})})},N=(0,r.Zz)((0,i.Ng)((e=>({profileForSettings:(0,l.GF)(e),updateAvatar:(0,l.rx)(e),updateInfo:(0,l.K)(e),myId:(0,o.Og)(e)})),{updateAvatarPhoto:s.d1,updateProfileInfo:s.RW,getProfileSettings:s.dQ}),a.H)(S)},7789:(e,t,n)=>{n.d(t,{H:()=>o});n(5043);var i=n(5116),r=n(9557),a=n(6698),s=n(579);const o=e=>(0,i.Ng)(l)((t=>t.isAuth?(0,s.jsx)(e,{...t}):(0,s.jsx)(r.rd,{to:"/login"})));let l=e=>({isAuth:(0,a.jb)(e)})},8150:(e,t,n)=>{n.d(t,{GF:()=>a,H8:()=>s,K:()=>l,qb:()=>r,rx:()=>o,w3:()=>i});const i=e=>e.profiles.posts,r=e=>e.profiles.profile,a=e=>e.profiles.profileForSettings,s=e=>e.profiles.status,o=e=>e.profiles.updateAvatar,l=e=>e.profiles.updateInfo},587:(e,t,n)=>{n.d(t,{p:()=>S,T:()=>A});var i=n(5043),r=n(8168),a=n(8587);const s=i.useLayoutEffect;const o=function(e){var t=(0,i.useRef)(e);return s((function(){t.current=e})),t};var l=function(e,t){"function"!==typeof e?e.current=t:e(t)};const d=function(e,t){var n=(0,i.useRef)();return(0,i.useCallback)((function(i){e.current=i,n.current&&l(n.current,null),n.current=t,t&&l(t,i)}),[t])};var c={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},u=function(e){Object.keys(c).forEach((function(t){e.style.setProperty(t,c[t],"important")}))},g=null;var h=function(){},f=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],p=!!document.documentElement.currentStyle,_=function(e,t){var n=e.cacheMeasurements,s=e.maxRows,l=e.minRows,c=e.onChange,_=void 0===c?h:c,m=e.onHeightChange,x=void 0===m?h:m,v=(0,a.A)(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]);var j=void 0!==v.value,b=(0,i.useRef)(null),A=d(b,t),S=(0,i.useRef)(0),N=(0,i.useRef)(),w=function(){var e=b.current,t=n&&N.current?N.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,i=(n=t,f.reduce((function(e,t){return e[t]=n[t],e}),{})),r=i.boxSizing;return""===r?null:(p&&"border-box"===r&&(i.width=parseFloat(i.width)+parseFloat(i.borderRightWidth)+parseFloat(i.borderLeftWidth)+parseFloat(i.paddingRight)+parseFloat(i.paddingLeft)+"px"),{sizingStyle:i,paddingSize:parseFloat(i.paddingBottom)+parseFloat(i.paddingTop),borderSize:parseFloat(i.borderBottomWidth)+parseFloat(i.borderTopWidth)})}(e);if(t){N.current=t;var i=function(e,t,n,i){void 0===n&&(n=1),void 0===i&&(i=1/0),g||((g=document.createElement("textarea")).setAttribute("tabindex","-1"),g.setAttribute("aria-hidden","true"),u(g)),null===g.parentNode&&document.body.appendChild(g);var r=e.paddingSize,a=e.borderSize,s=e.sizingStyle,o=s.boxSizing;Object.keys(s).forEach((function(e){var t=e;g.style[t]=s[t]})),u(g),g.value=t;var l=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize}(g,e);g.value="x";var d=g.scrollHeight-r,c=d*n;"border-box"===o&&(c=c+r+a),l=Math.max(c,l);var h=d*i;return"border-box"===o&&(h=h+r+a),[l=Math.min(h,l),d]}(t,e.value||e.placeholder||"x",l,s),r=i[0],a=i[1];S.current!==r&&(S.current=r,e.style.setProperty("height",r+"px","important"),x(r,{rowHeight:a}))}};return(0,i.useLayoutEffect)(w),function(e){var t=o(e);(0,i.useLayoutEffect)((function(){var e=function(e){t.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[])}(w),(0,i.createElement)("textarea",(0,r.A)({},v,{onChange:function(e){j||w(),_(e)},ref:A}))};const m=(0,i.forwardRef)(_),x="ValidationForms_input_successful__9AlhO",v="ValidationForms_input_error__MXav0",j="ValidationForms_text_error__KmgWb";var b=n(579);const A=e=>{let{input:t,meta:n,...i}=e;const r=n.touched&&n.error;return(0,b.jsxs)("div",{children:[(0,b.jsx)(m,{className:`${x} ${r&&v}`,...i,...t}),r&&(0,b.jsxs)("div",{className:j,children:["\u26d4",n.error]})]})},S=e=>{let{input:t,meta:n,...i}=e;const r=n.touched&&n.error;return(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{className:`${x} ${r&&v}`,...i,...t}),r&&(0,b.jsxs)("div",{className:j,children:["\u26d4",n.error]})]})}},8779:(e,t,n)=>{n.d(t,{R:()=>r,m:()=>i});const i=e=>{if(!e)return"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},r=e=>t=>{if(t&&t.length>e)return`\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 ${e} \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432`}}}]);
//# sourceMappingURL=862.b1087b3f.chunk.js.map